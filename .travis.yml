language: node_js
node_js: "12"
before_install:
  - openssl aes-256-cbc -K $encrypted_285ce119f0f4_key -iv $encrypted_285ce119f0f4_iv
    -in travis_rsa.enc -out travis_rsa -d
  - chmod 600 travis_rsa
  - mv travis_rsa ~/.ssh/id_rsa

install:
  - npm install -g codecov
  - export TRAVIS_BUILD_DIR=$(pwd)
  - mkdir $HOME/src
  - cd $HOME/src
  - git clone https://github.com/CaballeroD/ErpFrontend.git
  - cd ErpFrontend
  - npm install
  - cd $TRAVIS_BUILD_DIR
script:
  - "npm run test:unit:travis"
  - "npm run build"
after_success:
  - bash <(curl -s https://codecov.io/bash)
  - bash ./deploy.sh
env:
  - CODECOV_TOKEN="83d8b72d-1645-4184-990c-fe18f85a6314"